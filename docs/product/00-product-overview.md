# Smart Paper 智能错题本 - 产品全景规划

## 产品愿景

为小学生打造一个智能错题本系统，通过 AI 技术实现错题的智能收集、分析、整理和巩固学习，帮助孩子更高效地掌握知识点，提升学习效果。

## 核心价值

**让孩子掌握得更加牢固** - 不仅收集错题，更要通过系统化的方法帮助孩子真正理解和掌握知识点。

## 六大核心功能

### 1. 收集错题
- **目标**: 快速便捷地将各类错题录入系统
- **方式**:
  - 拍照上传试卷/作业
  - 手动录入
  - 批量导入
- **关键点**: 降低录入门槛，让家长和孩子都能轻松使用

### 2. 识别错题，整理成册
- **目标**: 自动识别题目内容，智能分类整理
- **功能**:
  - OCR 识别题干和插图
  - 去除手写痕迹，提取干净题干
  - 按学科、知识点、难度分类
  - 标注错题时间、错误次数
- **关键点**: 自动化整理，形成系统化的错题库

### 3. 整理成卷子可以打印
- **目标**: 生成可打印的练习卷，方便孩子复习
- **功能**:
  - 选择错题生成练习卷
  - 按知识点/时间/难度筛选
  - 自定义排版（题目数量、版式）
  - 导出 PDF/Word 格式
  - 支持答题空间和答案分离
- **关键点**: 高质量打印输出，符合实际使用习惯

### 4. 举一反三
- **目标**: 基于错题生成同类变式题，强化训练
- **功能**:
  - AI 生成相似题型（改变数字/场景）
  - 保持逻辑和难度一致
  - 可调节生成数量
  - 融入练习卷中
- **关键点**: 确保变式题质量，真正达到训练效果

### 5. 错题讲解
- **目标**: AI 提供详细的解题步骤和思路讲解
- **功能**:
  - 逐步分析解题思路
  - 标注关键步骤
  - 常见错误点提示
  - 多种解法对比
  - 图文并茂的讲解
- **关键点**: 让孩子能够自主学习，理解解题方法

### 6. 知识点讲解
- **目标**: 深入讲解相关知识点，巩固基础
- **功能**:
  - 识别题目涉及的知识点
  - 提供知识点概念讲解
  - 相关公式定理总结
  - 典型例题展示
  - 知识点关联图谱
- **关键点**: 从错题延伸到知识体系，举一反三

## 产品架构

```
┌─────────────────────────────────────────────────────┐
│                    前端 (Web/App)                    │
│  拍照上传 | 错题管理 | 练习卷生成 | 讲解查看         │
└─────────────────────────────────────────────────────┘
                           ↓
┌─────────────────────────────────────────────────────┐
│                    API 服务层                        │
│  路由 | 参数校验 | 权限控制 | 业务编排              │
└─────────────────────────────────────────────────────┘
                           ↓
┌──────────────┬──────────────┬──────────────┬─────────┐
│  OCR 服务    │  AI 生成服务  │  讲解服务    │ 导出服务│
│  - 题目识别  │  - 变式题    │  - 错题讲解  │ - PDF   │
│  - 图像裁剪  │  - 知识点    │  - 知识点    │ - Word  │
└──────────────┴──────────────┴──────────────┴─────────┘
                           ↓
┌─────────────────────────────────────────────────────┐
│                数据存储层                            │
│  题库 | 错题记录 | 知识点库 | 讲解内容 | 用户数据   │
└─────────────────────────────────────────────────────┘
```

## 技术选型

### 后端
- **框架**: FastAPI (Python)
- **OCR**: Qwen2.5-VL / SiliconFlow Vision API
- **AI 生成**: LLM (GPT-4/Claude/Qwen)
- **图像处理**: OpenCV / Pillow
- **数据库**: PostgreSQL / MySQL
- **对象存储**: S3 / OSS / MinIO

### 前端
- **框架**: React + Vite
- **UI 组件**: Ant Design / Material-UI
- **状态管理**: Zustand / Redux
- **图片上传**: Uppy / React-Dropzone

## 实施路线图

### Phase 1: MVP 基础能力 (当前阶段)
- ✅ OCR 识别 (题干 + 插图)
- ✅ 变式题生成 (举一反三)
- 🔄 基础导出 (PDF/Word)
- **交付物**: 01-juyifansan-mvp.md

### Phase 2: 错题管理和整理
- 错题数据库设计
- 错题分类和标签系统
- 错题列表和搜索
- 错题统计分析
- **交付物**: 02-wrong-question-management.md

### Phase 3: 智能讲解系统
- 错题讲解生成
- 知识点识别和讲解
- 讲解内容管理
- 多媒体讲解支持
- **交付物**: 03-intelligent-explanation.md

### Phase 4: 打印和导出增强
- 自定义练习卷生成
- 高级排版功能
- 多种模板支持
- 批量导出
- **交付物**: 04-print-export-enhancement.md

### Phase 5: 用户体系和进阶功能
- 用户登录和权限
- 学习进度跟踪
- 智能推荐系统
- 家长端和学生端
- 知识图谱可视化

## 验收标准

### 功能性
- 所有六大核心功能完整实现
- OCR 识别准确率 > 90%
- 变式题质量符合教学要求
- 讲解内容准确易懂
- 导出文件可直接打印使用

### 性能
- 单张图片 OCR 时间 < 10 秒
- 变式题生成时间 < 5 秒
- 讲解生成时间 < 8 秒
- PDF 导出时间 < 15 秒

### 用户体验
- 操作流程简单直观
- 界面友好美观
- 错误提示清晰
- 移动端适配良好

## 风险与挑战

### 技术风险
1. **OCR 准确性**: 复杂版面、手写混合、低质量图片
   - **对策**: 多模型对比、人工校正接口、图片质量检测

2. **AI 生成质量**: 变式题和讲解可能不准确
   - **对策**: Prompt 优化、多轮生成、人工审核标记

3. **知识点识别**: 准确匹配题目和知识点
   - **对策**: 建立知识点库、多维度匹配、人工标注

### 产品风险
1. **用户习惯**: 家长和孩子的使用习惯培养
   - **对策**: 简化操作流程、提供使用教程、激励机制

2. **内容安全**: 生成内容可能包含不当信息
   - **对策**: 敏感词过滤、内容审核、用户举报

## 成功指标

- 错题录入效率提升 80%
- 孩子错题掌握率提升 50%
- 家长满意度 > 85%
- 系统日活跃用户持续增长
